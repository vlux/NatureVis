<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8" />
      <title>NatureVis</title>
      <script src="d3/d3.js"></script>
      <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
      <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
      <link href="NatureVis.css" rel="stylesheet" type="text/css" />
      <link href="button.css" rel="stylesheet" type="text/css" />
   </head>
   <body>

      <div id="loading">
           <h2 style="text-align:center" id="loading_text">Loading Data. Please wait for seconds......</h2>
      </div>

      <div id = "header">
          <h1 class = "hfont">NatureVis</h1>
      </div>

      <div style = "text-align:center">
         <button id = "change1" class="button button-large button-plain button-border button-box ">NO2</button>
         <button id = "change2" class="button button-large button-plain button-border button-box ">SO2</button>
         <button id = "change3" class="button button-large button-plain button-border button-box ">PM10</button>
      </div>

      <div id="tree" style = "text-align:center">
          <span class = "yearleft" style = "top:48%">2002</span>
          <span class = "yearleft" style = "top:38%">2004</span>
          <span class = "yearleft" style = "top:28%">2006</span>
          <span class = "yearleft" style = "top:18%">2008</span>
          <span class = "yearleft" style = "top:8%">2010</span>
          <span class = "yearright" style = "top:3%">2011</span>
          <span class = "yearright" style = "top:13%">2009</span>
          <span class = "yearright" style = "top:23%">2007</span>
          <span class = "yearright" style = "top:33%">2005</span>
          <span class = "yearright" style = "top:43%">2003</span>
          <div id = "Trans_NO2">
              <img src = "img/NO2.png" style = "display:block">
          </div>
          <div id = "Trans_SO2">
              <img src = "img/SO2.png" style = "display:block">
          </div>
          <div id = "Trans_PM10">
              <img src = "img/PM10.png" style = "display:block">
          </div>
      </div>

      <div id="footer">
        <p>Supervised By <a target="_blank" href="http://pub.cs.sunysb.edu/~shecheng/index.html">Shenghui Cheng</a></p>
        <p>Implemented By Xuanwu Yue<a target="_blank" href="http://shiyida.net:8080/vis/cv_yxw.pdf">(CV)</a></p>
        <p>Started in June 2015.</p>
      </div>

   </body>

   <script src = "combine.js"></script>
   <script>
       //init
       var cwidth = document.body.clientWidth;
       var Trans_NO2_left = (cwidth / 2 - 135) * 100/ cwidth;
       var Trans_SO2_left = (cwidth / 2 - 220) * 100/ cwidth;
       var Trans_PM10_left = (cwidth / 2 - 290) * 100/ cwidth;
       $("#Trans_NO2").css("left",Trans_NO2_left + "%");
       $("#Trans_SO2").css("left",Trans_SO2_left + "%");
       $("#Trans_PM10").css("left",Trans_PM10_left + "%");

       stream("stream.csv");
       $("#Trans_SO2").css("display","none");
       $("#Trans_PM10").css("display","none");

       //click toggle
       $("#change1").on("click",function(){
           draw("NO2");
           $("#Trans_NO2").css("display","block");
           $("#Trans_SO2").css("display","none");
           $("#Trans_PM10").css("display","none");
       })
       $("#change2").on("click",function(){
           draw("SO2");
           $("#Trans_NO2").css("display","none");
           $("#Trans_SO2").css("display","block");
           $("#Trans_PM10").css("display","none");
       })
       $("#change3").on("click",function(){
           draw("PM10");
           $("#Trans_NO2").css("display","none");
           $("#Trans_SO2").css("display","none");
           $("#Trans_PM10").css("display","block");
       })

       window.onload = function(){
           d3.select("#loading").style("visibility", "hidden");
       }

   </script>
</html>
